<style>
  .high-box {
    background: #e74c3c;
    min-height: 60px;
    box-shadow: 0px 0 5px #949494;
    float: left;
    width: 100%;
    vertical-align: middle;
    display: table-cell;
    text-align: center;
    margin-right: 20px;
  }
  .medium-box {
    background: #e67e22;
    min-height: 60px;
    box-shadow: 0px 0 5px #949494;
    float: left;
    width: 100%;
    vertical-align: middle;
    display: table-cell;
    text-align: center;
    margin-right: 20px;
  }
  .low-box {
    background: #2ecc71;
    min-height: 60px;
    box-shadow: 0px 0 5px #949494;
    float: left;
    width: 100%;
    vertical-align: middle;
    display: table-cell;
    text-align: center;
    margin-right: 20px;
  }
  .number{
  font-size: 28px;
  color: #ecf0f1;
  font-weight: bold;
  line-height: 36px;
  }
  .text {
    color: #ecf0f1;
  }
</style>

<%= f.fields_for :asset do |ff| %>

<!-- First Row -->
<div class="row">
  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :name, "Display Name" %>
        <%= ff.text_field :name, :class => "form-control risk-normal-input" %>
      </div>
    </div>
  </div>
</div>

<!-- Second Row -->
<div class="row">
  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :description %>
        <%= ff.cktext_area :description, :class=>"form-control asset-big-input" %>
      </div>
    </div>
  </div>
</div>

<div class="clearfix border-divider"></div>

<!-- Third Row -->
<div class="clearfix">
  <h4><b>CIA/Security Properties</b></h4>
</div>
<div class="row">
  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :confidentiality %>
        <div class="risk-select width-fix">
          <%= ff.collection_select(:confidentiality, Priority.all, :score, :name, {}, {:class => "score", :id => "conf"}) %>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">   
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :integrity %>
        <div class="risk-select width-fix">        
          <%= ff.collection_select(:integrity, Priority.all, :score, :name, {}, {:class => "score", :id => "inte"}) %>
        </div>
      </div>
    </div>
  </div>

  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :availability %>
        <div class="risk-select width-fix">
          <%= ff.collection_select(:availability, Priority.all, :score, :name, {}, {:class => "score", :id => "avai"}) %>
        </div>
      </div>
    </div>
  </div>
</div>

<br>
<div class="row">
  <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
    <div id="score_color" class="high-box">
      <div class="number" id="total_score">9</div>
      <div class="text">Asset Value</div>
    </div>
  </div>
</div>

<br>
<div class="row">
  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
    <div class="ui info message">Asset Value is calculated based on Confidentiality, Integrity and Availability values. High, Medium and Low are configured with 3, 2 and 1 respectively.<br>
    For example <code> 3 + 2 + 1 = 6 </code></div>
  </div>
</div>

<br>
<!-- Fourth Row -->
<div class="row">
  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :classification_id %>
        <div class="risk-select width-fix">
          <%= ff.collection_select(:classification_id, Classification.all, :id, :name) %>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Fifth Row -->
<div class ="row">
  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 ">
      <div class="form-group clearfix">
        <label class="col-sm-4 control-label">
          <%= ff.label :personal_data %>
        </label>
        <div class="ui toggle checkbox">
        <div class="col-sm-8">
          <%= ff.check_box :personal_data %>
          <label></label>
        </div>
      </div>
  </div>
</div>

  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 ">
      <div class="form-group clearfix">
        <label class="col-sm-4 control-label">
          <%= ff.label :sensitive_date %>
        </label>
        <div class="ui toggle checkbox">
        <div class="col-sm-8">
          <%= ff.check_box :sensitive_date %>
          <label></label>
        </div>
      </div>
  </div>
</div>

  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 ">
      <div class="form-group clearfix">
        <label class="col-sm-4 control-label">
          <%= ff.label :customer_data %>
        </label>
        <div class="ui toggle checkbox">
        <div class="col-sm-8">
          <%= ff.check_box :customer_data %>
          <label></label>
        </div>
      </div>
  </div>
</div>
</div>

<div class="clearfix border-divider"></div>

<!-- Sixth Row -->
<div class="clearfix">
  <h4><b>Assignment</b></h4>
</div>
<div class="row">
  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :owner_id %>
        <div class="risk-select width-fix">
          <%= ff.collection_select(:owner_id, current_company.users, :id, :user_name) %>
        </div>
      </div>
    </div>
  </div>


  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :custodian_id %>
        <div class="risk-select width-fix">
          <%= ff.collection_select(:custodian_id, current_company.users, :id, :user_name) %>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :evaluated_by %>
        <div class="risk-select width-fix">
          <%= ff.collection_select(:evaluated_by, current_company.users, :id, :user_name) %>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Seventh Row -->
<div class="row">
  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :location_id %>
        <div class="risk-select width-fix">
          <%= ff.collection_select(:location_id, current_company.locations, :id, :name) %>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= ff.label :department_id %>
        <div class="risk-select width-fix">
          <%= ff.collection_select(:department_id, current_company.departments, :id, :name) %>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="ui info message">By default, all the information assets will be considered for Gap Analysis and Evaluation phases</div>

<div class="clearfix border-divider"></div>

<% end %>

<div class="clearfix">
  <h4><b>Information Asset Properties</b></h4>
</div>
<div class="row">
  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= f.label :at_origin %>
        <%= f.text_area :at_origin, :class=>"form-control asset-big-input" %>
      </div>
    </div>
  </div>
  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= f.label :info_moved %>
        <%= f.text_area :info_moved, :class=>"form-control asset-big-input" %>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
    <div class="form-group clearfix">
      <div class="col-sm-12">
        <%= f.label :retention_period, 'Retention Period (in Years)' %>
        <%= f.text_field :retention_period, :class=>"form-control" %>
      </div>
    </div>
  </div>
</div>

<script>

$( document ).ready(function() {
  $('.score').change(function() {
    var conf = parseInt($("#conf").val());
    var inte = parseInt($("#inte").val());
    var avai = parseInt($("#avai").val());
    var total_score = conf + inte + avai;
    $('#total_score').text(total_score);
    if( total_score > 7 && total_score <= 9 )
      $('#score_color').removeClass().addClass('high-box');         
    else if( total_score > 5 && total_score <= 7 )
      $('#score_color').removeClass().addClass('medium-box');
    else if( total_score >= 3 && total_score <= 5 )
      $('#score_color').removeClass().addClass('low-box');
  });
});

$('.ui.checkbox')
  .checkbox();

$('.ui.dropdown')
  .dropdown();

</script>